/* FULL UPDATED styles.css â€” includes app loader + A4 documents + QR visibility
   Paste/replace your styles.css with this version. */

:root{
  --bg0:#070A0F;
  --bg1:#0B1220;
  --text:#EAF2FF;
  --muted:rgba(234,242,255,.72);
  --blue:#056FB2;
  --green:#03AE36;
  --yellow:#F4F900;
  --stroke:rgba(255,255,255,.10);
  --shadow: 0 18px 45px rgba(0,0,0,.45);
  --shadow2: 0 10px 25px rgba(0,0,0,.35);
  --radius: 18px;
  --ring: 0 0 0 4px rgba(5,111,178,.25);
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", sans-serif;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

*{box-sizing:border-box}
html,body{height:100%}
html{-webkit-text-size-adjust:100%; text-size-adjust:100%; scroll-behavior:smooth}
body{
  margin:0;
  font-family:var(--font);
  color:var(--text);
  background:
    radial-gradient(900px 450px at 18% -8%, rgba(5,111,178,.22), transparent 60%),
    radial-gradient(700px 350px at 88% 10%, rgba(3,174,54,.18), transparent 55%),
    radial-gradient(900px 500px at 50% 120%, rgba(244,249,0,.08), transparent 65%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  overscroll-behavior:none;
}
a{color:inherit; text-decoration:none}
.hidden{display:none !important}

/* App Loader */
.app-loader{
  position:fixed; inset:0; z-index:99999;
  display:grid; place-items:center;
  background:
    radial-gradient(900px 450px at 18% -8%, rgba(5,111,178,.22), transparent 60%),
    radial-gradient(700px 350px at 88% 10%, rgba(3,174,54,.18), transparent 55%),
    linear-gradient(180deg, #070A0F, #0B1220);
  transition: opacity .25s ease, transform .25s ease;
}
.app-loader.hide{opacity:0; pointer-events:none; transform: translateY(-6px)}
.loader-card{
  width:min(420px, 90vw);
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  box-shadow: var(--shadow);
  padding:18px;
  text-align:center;
}
.loader-logo{
  width:76px; height:76px; object-fit:contain;
  filter: drop-shadow(0 14px 22px rgba(0,0,0,.35));
  animation: popIn .45s ease both;
}
@keyframes popIn{from{transform: translateY(6px) scale(.96); opacity:0}to{transform:none; opacity:1}}
.loader-title{margin-top:10px; font-weight:1000; letter-spacing:.5px; text-transform:uppercase}
.loader-sub{margin-top:4px; color: rgba(234,242,255,.75); font-size:13px}
.loader-bar{
  margin-top:14px;
  height:10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.20);
  overflow:hidden;
}
.loader-bar span{
  display:block; height:100%; width:40%;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(5,111,178,.95), rgba(3,174,54,.85), rgba(244,249,0,.55));
  animation: loadingBar 1.1s ease-in-out infinite;
}
@keyframes loadingBar{0%{transform: translateX(-80%)}50%{transform: translateX(120%)}100%{transform: translateX(220%)}}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px;
  background: linear-gradient(180deg, rgba(10,15,26,.92), rgba(10,15,26,.70));
  border-bottom:1px solid var(--stroke);
  backdrop-filter: blur(14px);
}
.top-left{display:flex; align-items:center; gap:12px}
.hamburger{
  width:44px; height:44px; display:inline-grid; place-items:center;
  border-radius:12px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.10);
  color:var(--text);
  cursor:pointer;
}
.brand{display:flex; align-items:center; gap:10px}
#brandLogo{width:42px; height:42px; object-fit:contain; cursor:pointer; border-radius:10px; padding:2px}
.brand-text h1{font-size:14px; margin:0; letter-spacing:.5px; text-transform:uppercase}
.brand-text small{display:block; margin-top:2px; font-size:12px; color:rgba(234,242,255,.78)}
.top-right{display:flex; align-items:center; gap:12px}
.contact-mini{display:none; gap:12px}
.contact-mini a{color:rgba(234,242,255,.78); font-size:12px}
@media (min-width:760px){.contact-mini{display:flex}}

/* Sidebar */
.sidebar{
  position:fixed; top:0; left:0; height:100vh; width:min(330px, 88vw);
  background: linear-gradient(180deg, rgba(10,15,26,.96), rgba(10,15,26,.88));
  border-right:1px solid var(--stroke);
  z-index:60; padding:14px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(16px);
}
.sidebar-header{
  display:flex; align-items:center; gap:12px;
  padding:10px; border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.05);
  border-radius:16px;
}
.sidebar-header img{width:44px; height:44px; object-fit:contain}
.company-name{font-weight:900; letter-spacing:.4px; text-transform:uppercase; font-size:12px}
.company-slogan{color:rgba(234,242,255,.72); font-size:12px}
.sidebar-nav{margin-top:12px; display:flex; flex-direction:column; gap:8px}
.side-btn{
  width:100%; text-align:left;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  color:var(--text);
  cursor:pointer;
}
.sidebar-footer{
  position:absolute; left:14px; right:14px; bottom:14px;
  padding:10px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.03);
  border-radius:14px;
  color:rgba(234,242,255,.76);
  font-size:12px;
}

/* Layout */
#app{padding:14px; padding-bottom:92px}
.panel{max-width:1100px; margin:0 auto 14px}
.card{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.10);
  border-radius: var(--radius);
  box-shadow: var(--shadow2);
  position:relative;
  overflow:hidden;
}
.section-header{
  display:flex; align-items:flex-start; justify-content:space-between;
  gap:12px; padding:16px 16px 10px;
}
.section-actions{display:flex; flex-wrap:wrap; gap:10px}

/* Buttons/Inputs */
.btn{
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.06);
  color:var(--text);
  cursor:pointer;
}
.btn.primary{
  background: linear-gradient(135deg, rgba(5,111,178,.95), rgba(5,111,178,.70));
  border-color: rgba(5,111,178,.55);
  box-shadow: 0 14px 35px rgba(5,111,178,.22);
}
.btn.ghost{background:transparent}
input, select{
  width:100%;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
  color: var(--text);
  outline:none;
}
input:focus, select:focus{box-shadow: var(--ring); border-color: rgba(5,111,178,.55)}
.form-row{display:grid; grid-template-columns:1fr; gap:10px; padding:0 16px 16px}
@media (min-width:760px){.form-row{grid-template-columns:repeat(4,1fr)} #app{padding:18px; padding-bottom:24px}}

/* Lists & items */
.list{list-style:none; padding:0; margin:0; display:grid; gap:10px}
.list li{
  display:flex; align-items:flex-start; justify-content:space-between;
  gap:10px; padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.18);
}
.items-list{padding:0 16px 10px; display:grid; gap:10px}
.item{
  display:flex; justify-content:space-between;
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
}
.totals{margin:0 16px 16px; padding:14px}
.totals .big{font-size:18px; font-weight:1000}

/* Bottom nav app-like */
.bottom-nav{
  position:fixed; bottom:0; left:0; right:0;
  z-index:55;
  display:flex;
  gap:8px;
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  padding:10px 10px env(safe-area-inset-bottom);
  background: rgba(10,15,26,.92);
  border-top:1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(14px);
}
.bottom-nav::-webkit-scrollbar{height:0}
.bottom-nav .nav-btn{
  flex:0 0 auto;
  min-width:78px;
  border:none; background:transparent;
  color:rgba(234,242,255,.78);
  padding:10px 10px;
  border-radius:14px;
  cursor:pointer;
  font-size:12px;
  white-space:nowrap;
}
.bottom-nav .nav-btn.active{
  background: rgba(5,111,178,.18);
  color: var(--text);
  box-shadow: inset 0 0 0 1px rgba(5,111,178,.25);
}
@media (min-width:760px){.bottom-nav{display:none}}

/* ================================
   DOCUMENTS A4 + QR FIX
================================ */
.receipt, .invoice-a4{
  font-family: var(--font);
  color:#0b1220;
  background:#fff;
  width:210mm;
  min-height:297mm;
  margin:0 auto;
  padding:0;
}
@media screen{
  .receipt, .invoice-a4{box-shadow:0 18px 45px rgba(0,0,0,.25); border-radius:10px}
}

.doc-header, .doc-header-a4{
  display:flex; align-items:center; justify-content:space-between;
  gap:14px;
  padding:18px 18px 12px;
  border-bottom:2px solid #e9eef6;
}
.receipt-logo, .invoice-logo{width:68px; height:68px; object-fit:contain}
.company-block, .company-block-a4{flex:1}
.company-name{font-weight:1000; letter-spacing:.6px; text-transform:uppercase; font-size:14px}
.company-contact{margin-top:4px; color:#3b455a; font-size:12px; line-height:1.35}
.doc-title{text-align:right}
.doc-title .type{font-weight:1000; font-size:16px; letter-spacing:.4px}
.doc-title .sub{font-size:12px; color:#3b455a}

.doc-meta, .invoice-meta{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px 18px;
  padding:12px 18px 6px;
  font-size:12px;
}
.meta-row{display:flex; gap:8px; align-items:baseline}
.meta-row b{min-width:92px; color:#0b1220}
.badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-size:11px;
  border:1px solid #d9e3f3;
  background:#f6f9ff;
}
.badge.paid{border-color:#b8f3cc; background:#eafff1}
.badge.unpaid{border-color:#ffd0d0; background:#fff0f0}

.inv-table{
  width:calc(100% - 36px);
  margin:10px 18px 12px;
  border-collapse:collapse;
  font-size:12px;
  border:1px solid #e9eef6;
  border-radius:10px;
  overflow:hidden;
}
.inv-table thead tr{background:#f6f9ff}
.inv-table th{
  text-transform:uppercase;
  letter-spacing:.3px;
  font-size:11px;
  color:#3b455a;
  padding:10px 10px;
  border-bottom:1px solid #e9eef6;
}
.inv-table td{
  padding:10px 10px;
  border-bottom:1px solid #eef2f8;
}
.inv-table tbody tr:last-child td{border-bottom:none}
.inv-table td:nth-child(2),
.inv-table td:nth-child(3),
.inv-table td:nth-child(4),
.inv-table td:nth-child(5){text-align:right; white-space:nowrap}
.inv-table td:nth-child(1){width:48%}

.inv-summary, .r-totals{
  padding:10px 18px 12px;
  display:flex;
  flex-direction:column;
  gap:6px;
  align-items:flex-end;
  font-size:13px;
}
.inv-summary .big, .r-total{font-weight:1000; font-size:16px; color:#0b1220}

.doc-footer{
  display:flex;
  gap:18px;
  justify-content:space-between;
  align-items:flex-end;
  padding:14px 18px 18px;
  border-top:2px dashed #e9eef6;
}
.footer-left{max-width:58%; font-size:11px; color:#3b455a; line-height:1.35}
.footer-right{display:flex; gap:12px; align-items:flex-end}

/* QR container: always show */
.qr{
  width:96px;
  height:96px;
  border:1px solid #e9eef6;
  border-radius:10px;
  padding:6px;
  background:#fff;
  display:grid;
  place-items:center;
}
.qr img, .qr canvas{
  width:84px !important;
  height:84px !important;
  display:block !important;
}

.stamp-container{width:150px; height:150px; display:grid; place-items:center; background:#fff}
.stamp-container-small{width:110px; height:110px; display:grid; place-items:center; background:#fff}

.signature{min-width:180px; text-align:center}
.signature .sig{font-family:"Brush Script MT","Segoe Script","Pacifico",cursive; font-size:24px; color:#0b1220; line-height:1}
.signature .line{border-top:1px solid #0b1220; margin-top:6px}
.signature .cap{font-size:11px; color:#3b455a; margin-top:4px}

/* export wrapper used by app.js */
.print-stage{background:#fff}

/* Print */
@media print{
  body{background:#fff}
  .topbar, .sidebar, .bottom-nav, #auth, #toast, #appLoader{display:none !important}
  #app{padding:0}
}